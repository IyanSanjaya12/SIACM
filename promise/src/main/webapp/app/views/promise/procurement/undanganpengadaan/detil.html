<div class="app-view-header">
	<span translate="promise.procurement.vendor.undanganpengadaan.JUDUL"></span>
	<small><span translate="promise.procurement.vendor.undanganpengadaan.KETERANGAN"></span></small>
</div>
<!--START CONTROLLER-->
<div ng-controller="UndanganPengadaanDetilController">
	<div class="panel panel-primary">
		<h4 ng-class="'bg-' + app.theme.name" class="panel-heading"><em class="fa fa-table">&nbsp;</em>
				<span translate="promise.procurement.vendor.undanganpengadaan.detil.DATAPENGADAAN"></span>
			</h4>
		<div class="panel-body">
			<div align="center" ng-if="loading == true"><strong><em>Loading...</em><img src="app/img/loading.gif" width="20px" border="0"/></strong>
			</div>
			<div align="center" ng-if="loadingVendorRequirement == true"><strong><em>Loading get Vendor Requirement...</em><img src="app/img/loading.gif" width="20px" border="0"/></strong>
			</div>
			<div align="center" ng-if="loadingValidasiPendaftaran == true"><strong><em>Loading Validasi Pendaftaran...</em><img src="app/img/loading.gif" width="20px" border="0"/></strong>
			</div>
			<div class="table-responsive">
				<table id="table-ext-1" class="table table-bordered table-hover" width="100%">
					<tbody>
						<tr>
							<td style="text-align:left" width="40%"><span translate="promise.procurement.vendor.undanganpengadaan.detil.NOPENGADAAN">Nomor Pengadaan</span></td>
							<td style="text-align:left" width="60%">{{pengadaan.nomorNotaDinas}}</td>
						</tr>
						<tr>
							<td style="text-align:left"><span translate="promise.procurement.vendor.undanganpengadaan.detil.NAMAPENGADAAN">Nama Pengadaan</span></td>
							<td style="text-align:left">{{pengadaan.namaPengadaan}}</td>
						</tr>
						<tr>
							<td style="text-align:left"><span translate="promise.procurement.vendor.undanganpengadaan.detil.JENISPENGADAAN">Jenis Pengadaan</span></td>
							<td style="text-align:left">{{pengadaan.jenisPengadaan.nama}}</td>
						</tr>
						<tr>
							<td style="text-align:left"><span translate="promise.procurement.vendor.undanganpengadaan.detil.METODEPENGADAAN">Metode Pengadaan</span></td>
							<td style="text-align:left">{{pengadaan.metodePengadaan.nama}}</td>
						</tr>
						<tr>
							<td style="text-align:left"><span translate="promise.procurement.vendor.undanganpengadaan.detil.KUALIFIKASIVENDOR"></span></td>
							<td style="text-align:left">{{pengadaan.kualifikasiVendor.nama}}</td>
						</tr>
						<tr>
							<td style="text-align:left"><span translate="promise.procurement.vendor.undanganpengadaan.detil.MINIMALPENGALAMAN"></span></td>
							<td style="text-align:left">{{vendorRequirement.minimalPengalaman }}</td>
						</tr>
						<tr>
							<td style="text-align:left"><span translate="promise.procurement.vendor.undanganpengadaan.detil.MINIMALNILAIKONTRAK"></span></td>
							<td style="text-align:left">{{vendorRequirement.nilaiKontrak|currency:vendorRequirement.mataUang.kode+" "}}</td>
						</tr>
						<tr>
							<td style="text-align:left"><span translate="promise.procurement.vendor.undanganpengadaan.detil.JANGKATHNPENGALAMAN"></span></td>
							<td style="text-align:left">{{vendorRequirement.tahunPengalamanMulai +' - '+vendorRequirement.tahunPengalamanAkhir}}</td>
						</tr>
						<tr>
							<td style="text-align:left"><span translate="promise.procurement.vendor.undanganpengadaan.detil.BIDANGUSAHA"></span></td>
							<td style="text-align:left">
								<div align="center" ng-if="loadingSubidang == true"><strong><em>Loading...</em><img src="app/img/loading.gif" width="20px" border="0"/></strong>
								</div>
								<div ng-repeat="bd in subBidangUsahaByPengadaanIdList">
									<li>{{bd.subBidangUsaha.bidangUsaha.nama}}</li>
									<ul class="fa fa-long-arrow-right">
										{{bd.subBidangUsaha.nama}}
									</ul>
								</div>
							</td>
						</tr>
						<tr ng-repeat="dokumen in dokumenList">
							<td>
	                  			Dokumen {{$index + 1}}
	                    		<br/>
	                    	</td>  
	                        <td  align="left">
	                     		<span title="download file"><a href="{{ backendAddress +'/file/view/'+dokumen.path }}" download><em><u>{{dokumen.nama }}</u></em></a></span>
	                     	</td>
						</tr>
					</tbody>
				</table>
			</div>

		</div>
	</div>

	<!-- Panel 2 -->
	<div class="panel panel-primary" ng-show="isMaterial">
		<h4 ng-class="'bg-' + app.theme.name" class="panel-heading"><em class="fa fa-archive">&nbsp;</em>
                                            <span translate="promise.procurement.vendor.undanganpengadaan.detil.MATERIALSUBJUDUL"></span>
        </h4>
		<div class="panel-body">
			<div class="table-responsive">
				<div align="center" ng-if="loadingMaterialPengadaan == true"><strong><em>Loading...</em><img src="app/img/loading.gif" width="20px" border="0"/></strong></div>
				<table ng-table="tableMaterialPengadaanList" class="table table-hover table-condensed table-striped bg-white">
					<thead>
						<tr style="font-weight: bold">
							<th scope="col"style="width:5%; text-align:left"><span translate="promise.procurement.vendor.undanganpengadaan.detil.rincianmaterial.NO"></span>
							</th>
							<th scope="col"style="width:40%; text-align:left; vertical-align:middle"><span translate="promise.procurement.vendor.undanganpengadaan.detil.rincianmaterial.NAMAMATERIAL"></span>
							</th>
							<th scope="col"style="width:8%; text-align:left; vertical-align:middle"><span translate="promise.procurement.vendor.undanganpengadaan.detil.rincianmaterial.SATUAN"></span>
							</th>
							<th scope="col"style="width:10%; text-align:left; vertical-align:middle"><span translate="promise.procurement.vendor.undanganpengadaan.detil.rincianmaterial.JENIS"></span>
							</th>
							<th scope="col"style="width:15%; text-align:center; vertical-align:middle"><span translate="promise.procurement.vendor.undanganpengadaan.detil.rincianmaterial.JUMLAH"></span>
							</th>
						</tr>
					</thead>
					<tbody>
						<tr ng-repeat="ppm in $data">
							<td style="text-align:left; vertical-align:middle">
								{{ ppm.index }}
							</td>
							<td style="text-align:left; vertical-align:middle">
								{{ ppm.item.nama}}
							</td>
							<td style="vertical-align:middle">
								{{ ppm.item.satuanId.nama }}
							</td>
							<td style="text-align:left; vertical-align:middle">
								{{ ppm.item.itemGroupId.nama }}
							</td>
							<td style="text-align:center; vertical-align:middle">
								{{ ppm.kuantitas}}
							</td>
						</tr>
					</tbody>
				</table>
			</div>
		</div>
	</div>


	<!-- Panel 3 -->
	<div class="panel panel-primary" ng-show="isJasa">
		<h4 ng-class="'bg-' + app.theme.name" class="panel-heading"><em class="fa fa-briefcase">&nbsp;</em>
                                            <span translate="promise.procurement.vendor.undanganpengadaan.detil.JASASUBJUDUL"></span>
        </h4>
		<div class="panel-body">
			<div class="col-xs-12">
				<div align="center" ng-if="loadingJasaPengadaan == true"><strong><em>Loading...</em><img src="app/img/loading.gif" width="20px" border="0"/></strong></div>
				<div class="table-responsive">
					<table ng-table="tableJasaPengadaanList" class="col-xs-12 table table-hover table-condensed table-striped bg-white">
						<thead>
							<tr style="font-weight: bold">
								<th scope="col"style="width:5%; text-align:left"><span translate="promise.procurement.vendor.undanganpengadaan.detil.rincianjasa.NO"></span>
								</th>
								<th scope="col"style="width:40%; text-align:left; vertical-align:middle"><span translate="promise.procurement.vendor.undanganpengadaan.detil.rincianjasa.NAMAJASA"></span>
								</th>
								<th scope="col"style="width:8%; text-align:left; vertical-align:middle"><span translate="promise.procurement.vendor.undanganpengadaan.detil.rincianjasa.SATUAN"></span>
								</th>
								<th scope="col"style="width:10%; text-align:left; vertical-align:middle"><span translate="promise.procurement.vendor.undanganpengadaan.detil.rincianjasa.JENIS"></span>
								</th>
								<th scope="col"style="width:15%; text-align:center; vertical-align:middle"><span translate="promise.procurement.vendor.undanganpengadaan.detil.rincianjasa.JUMLAH"></span>
								</th>
							</tr>
						</thead>
						<tbody>
							<tr ng-repeat="ppj in $data">
								<td style="text-align:left; vertical-align:middle">
									{{ ppj.index }}
								</td>
								<td style="text-align:left; vertical-align:middle">
									{{ ppj.item.nama}}
								</td>
								<td style="text-align:left; vertical-align:middle">
									{{ ppj.item.satuanId.nama}}
								</td>
								<td style="text-align:left; vertical-align:middle">
									{{ ppj.item.itemGroupId.nama }}
								</td>
								<td style="text-align:center; vertical-align:middle">
									{{ ppj.kuantitas}}
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
	<!-- Panel 3 -->
	<div class="panel panel-primary">
		<h4 ng-class="'bg-' + app.theme.name" class="panel-heading"><em class="fa fa-calendar">&nbsp;</em>
         	<span>Jadwal Pengadaan</span>
        </h4>
		<div class="panel-body">
			<div align="center" ng-if="loadingJasaPengadaan == true"><strong><em>Loading...</em><img src="app/img/loading.gif" width="20px" border="0"/></strong></div>
			<div class="table-responsive">
				<table id="table-ext-2" class="table table-bordered table-hover">
					<tbody>
						<tr ng-repeat="jadwal in jadwalPengadaanList">
							<td style="text-align:left; vertical-align:middle" width="40%">
								{{ jadwal.tahapanPengadaan.tahapan.nama }}
							</td>
							<td style="text-align:left; vertical-align:middle">
								Dimulai dari tanggal {{ jadwal.waktuAwal | date : 'dd-MM-yyyy HH:mm' }} WIB sampai dengan {{ jadwal.waktuAkhir | date : 'dd-MM-yyyy HH:mm' }} WIB.
								<br/>
								{{ jadwal.lokasi!='undefined'? 'Lokasi '+jadwal.lokasi : '' }}
							</td>
						</tr>
					</tbody>
				</table>
			</div>
			<br/>
			
			<div align="center" ng-if="loadingDaftarPengadaan == true"><strong><em>Loading Pendaftaran Pengadaan...</em><img src="app/img/loading.gif" width="20px" border="0"/></strong>
			</div>

			<div align="center">
				<strong style="color:red">{{ messageError }}</strong>

				<strong ng-if="btnDaftarPengadaanStatus==false" style="color:green">Selamat Anda sudah terdaftar</strong>
				<br/>

				<button ng-class="'bg-' + app.theme.name" ng-click="btnKembali()" class="btn btn-primary btn-sm pull-center" ripple="">
					<span class=""><em class="fa fa-chevron-left"></em></span>&nbsp;&nbsp;<font color="white"><span translate="promise.procurement.vendor.undanganpengadaan.detil.KEMBALI"></span></font>
				</button>
				<button ng-show="btnDaftarPengadaanStatus" ng-class="'bg-' + app.theme.name" ng-click="btnDaftarPengadaan()" class="btn btn-primary btn-sm pull-center" ripple="" ng-disabled="btnSimpanDisable">
					<span class=""><em class="fa fa-sign-in"></em></span>&nbsp;&nbsp;<font color="white"><span translate="promise.procurement.vendor.undanganpengadaan.detil.DAFTAR"></span></font>
				</button>
			</div>
		</div>

	</div>

	<script type="text/ng-template" id="/hasilpendaftaran.html">
		<div id="pendaftaran">
			<div class="modal-header">
				<button type="button" data-dismiss="modal" aria-hidden="true" class="close" ng-click="cancel()">×</button>
				<h3 id="myModalLabel" class="modal-title">
            <span translate="promise.procurement.vendor.undanganpengadaan.hasildaftar.HASILPENDAFTARAN"></span>
        	</h3>
			</div>
			<div class="modal-body">
				<div class="row">
					<div class="col-xs-12" align="right"  ng-hide="true"><em><small>hash code : {{ token }}</small></em>
						<br/>
						<br/>
					</div>
					<div class="col-xs-12" align="center" ng-if="loading == true"><strong><em>Loading...</em><img src="app/img/loading.gif" width="20px" border="0"/></strong>
					</div>
					<div class="col-xs-12" align="center">
						<h2>Perusahaan Anda : {{ vendor.nama }},</h2>telah terdaftar untuk mengikuti <strong>{{ pengadaan.namaPengadaan }}</strong>
						<br/> dengan Nomor Pengadaan <strong>{{ pengadaan.nomorNotaDinas }}</strong>
						<br/>
						<br/>
						<p>Mohon untuk selalu memperhatikan Jadwal Pengadaan, jika anda melewati batas waktu yang telah ditentukan anda tidak dapat mengikuti proses pengadaan selanjutnya.</p>
						<br/>
						<p>Berikut ini adalah dokumen pengadaan silahkan untuk men</p>
						<div align="center" ng-repeat="file in download">
							<a href="#" ng-click="downloadFile(file)">{{ file.nama }}</a>
						</div>
						<br/>
						<br/> Terima Kasih
					</div>
					<div class="col-xs-12" align="center" ng-bind-html="messageSuccess" style="color : green"></div>
					<div class="col-xs-12" align="center" ng-bind-html="messageError" style="color : red"></div>
				</div>
				<br/>
			</div>
			<div class="modal-footer" align="center">
				<button ng-class="'bg-' + app.theme.name" type="button" ripple="" class="btn btn-primary btn-sm pull-center btn-cancel" ng-click="cancel()">
					<span class=""><em class="fa fa-times"></em></span>&nbsp;&nbsp;<font color="white">
                    <span translate="">Tutup</span></font>
				</button>

				<button ng-class="'bg-' + app.theme.name" type="button" ripple="" class="btn btn-primary btn-sm pull-center btn-print" ng-click="printDiv('pendaftaran')">
					<span class=""><em class="fa fa-print"></em></span>&nbsp;&nbsp;<font color="white">
                	<span translate="promise.procurement.vendor.undanganpengadaan.hasildaftar.CETAK"></span></font>
				</button>
			</div>
		</div>
</script>