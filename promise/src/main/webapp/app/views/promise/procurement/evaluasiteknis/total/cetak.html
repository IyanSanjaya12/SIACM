<!--
SPESIFIC VIEW OF THE FIRST DETAIL EVALUASI TEKNIS MENU
------------- START CONTROLLER -------------
-->

<div class="app-view-header">
    <span translate="promise.procurement.panitia.evaluasiteknis.JUDUL">Evaluasi Teknis</span>
</div>

<div ng-controller="EvaluasiTeknisTotalViewCetakController as form">
    <form method="post" action="#" novalidate="" class="form-horizontal">
        <div id="evaluasiTeknis">
        <promise-view-data-pengadaan pengadaan-id=pengadaanId></promise-view-data-pengadaan>

        <!--Table Ke 4 -->
        <div class="panel panel-primary">
            <h4 ng-class="'bg-' + app.theme.name" class="panel-heading"><em class="fa fa-group">&nbsp;</em><span translate="promise.procurement.panitia.evaluasiteknis.view.DATAPENYEDIABRGJASA">Data Penyedia Barang dan Jasa</span></h4>
            <div class="panel-body">
                <br/>
                <div class="col-md-12">
                    <div>
                        <div align="center" ng-if="loading == true"><strong><em>Loading...<img src="app/img/loading.gif" width="20px" border="0"/></em></strong></div>
                        <div class="table-responsive">
                            <table class="table table-hover table-condensed table-striped bg-white">
                                <thead>
                                    <tr style="font-weight: bold">
                                        <th scope="col"style="width:5%; text-align:left; vertical-align:middle"><span translate="promise.procurement.panitia.evaluasiteknis.view.rincianjasa.NO"></span>
                                        </th>
                                        <th scope="col"style="width:25%; text-align:left; vertical-align:middle"><span translate="promise.procurement.panitia.evaluasiteknis.view.NMPENYEDIABRGJASA"></span>
                                        </th>
                                        <!-- <th scope="col"style="width:15%; text-align:left; vertical-align:middle"><span translate="promise.procurement.panitia.pengambilandokumen.view.vendor.TGLDAFTAR"></span>
                                        </th> -->
                                        <th scope="col"style="width:15%; text-align:left; vertical-align:middle"><span translate="promise.procurement.panitia.evaluasiteknis.view.PENAWARANTELP"></span>
                                        </th>
                                        <th scope="col"style="width:30%; text-align:left; vertical-align:middle"><span translate="promise.procurement.panitia.evaluasiteknis.view.ALAMAT"></span>
                                        </th>
                                        <th scope="col"style="width:15%; text-align:left; vertical-align:middle"><span translate="promise.procurement.panitia.evaluasiteknis.view.NILAITEKNIS"></span>
                                        </th>
<!--                                         <th scope="col"id="aksi" style="width:10%; text-align:center; vertical-align:middle" ng-show="detilPengadaan.tahapanPengadaan.id==12"><span translate="promise.procurement.panitia.evaluasiteknis.view.AKSI"></span>
                                        </th> -->
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="ppm in suratPenawaranByPengadaanList">
                                        <td style="text-align:left; vertical-align:middle">
                                            {{ $index+1 }}
                                        </td>
                                        <td style="text-align:left; vertical-align:middle">
                                            {{ ppm.vendor.nama}}
                                        </td>
<!--                                         <td style="text-align:left; vertical-align:middle">
                                            {{ ppm.suratPenawaran.vendor.tanggalDaftar | date :'dd-MM-yyyy'}}
                                        </td> -->
                                        <td style="text-align:left; vertical-align:middle">
                                            {{ ppm.vendor.nomorTelpon}}
                                        </td>
                                        <td style="text-align:left; vertical-align:middle">
                                            {{ ppm.vendor.alamat}}
                                        </td>
                                        <td style="text-align:left; vertical-align:middle">
                                            {{ ppm.nilaiEvaluasi}} <span ng-if="ppm.statusLulus=='Lulus'" style="color:green;font-weight: bold;">{{ppm.statusLulus}}</span><span ng-if="ppm.statusLulus=='Tidak Lulus'" style="color:red;font-weight: normal;">{{ppm.statusLulus}}</span>
                                        </td>
<!--                                         <td id="aksi" style="text-align:center; vertical-align:middle" ng-show="detilPengadaan.tahapanPengadaan.tahapan.id==12">
                                            <button id="button1" type="button" class="mr btn btn-success btn-circle btn-xs" ng-click="chooseModal(ppm.vendor,'lg')">
                                                <em id="button1" class="fa fa-pencil fa-lg"></em>
                                             </button>
                                        </td> -->
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
        <!--END Table Ke 4 -->

        <div align="center">
            <button ng-class="'bg-' + app.theme.name" type="button" class="mr btn btn-labeled btn-success" ng-click="back()"><em class="fa fa-arrow-circle-left">&nbsp;</em>
                <span translate="promise.procurement.panitia.evaluasiteknis.btn.KEMBALI"></span>
            </button>
            <button ng-class="'bg-' + app.theme.name" type="button" class="mr btn btn-labeled btn-success" ng-click="printDiv('evaluasiTeknis')" ng-show="view==true && detilPengadaan.tahapanPengadaan.tahapan.id>12"><em class="fa fa-print">&nbsp;</em>
                <span translate="promise.procurement.panitia.pengambilandokumen.view.btn.PRINT"></span>
            </button>
            <button ng-class="'bg-' + app.theme.name" type="button" class="mr btn btn-labeled btn-success" ng-click="goModalConfirmation()" ng-show="detilPengadaan.tahapanPengadaan.tahapan.id==12" ng-disabled="btnSimpanDisable">
                <span translate="promise.procurement.panitia.evaluasiteknis.btn.SIMPAN"></span>&nbsp;<em class="fa fa-check"></em>
            </button>
        </div>
        <br>
    </form>
</div>
<!--END CONTROLLER-->

<!--SISTEM GUGUR-->
<script type="text/ng-template" id="/EvaluasiTeknisSistemGugur.html">
    <div class="modal-header">
        <button type="button" data-dismiss="modal" aria-hidden="true" class="close" ng-click="cancel()">Ã—</button>
        <h3 id="myModalLabel" class="modal-title">
            <span translate="promise.procurement.panitia.evaluasiteknis.kriteriateknis.JUDUL"></span>
        </h3>
    </div>
    <div class="modal-body">
        <div class="row">
            <!--Table Ke 1 -->
            <div class="panel panel-primary">
                <h4 ng-class="'bg-' + app.theme.name" class="panel-heading"><em class="fa fa-tasks">&nbsp;</em><span translate="promise.procurement.panitia.evaluasiteknis.kriteriateknis.DATAVENDOR">Data Vendor</span></h4>
                <div class="panel-body">
                    <br/>
                    <div class="col-md-12">
                        <div>
                            <div align="center" ng-if="loading == true"><strong><em>Loading...</em><img src="app/img/loading.gif" width="20px" border="0"/></strong></div>
                            <div class="table-responsive">
                                <table id="table-ext-1" class="table table-bordered table-hover" width="100%">
                                    <tbody>
                                        <tr>
                                            <td style="text-align:left" width="40%">Nama Penyedia Barang/Jasa</td>
                                            <td style="text-align:left" width="60%">{{ kriteriaTeknisData.nama }}</td>
                                        </tr>
                                        <tr>
                                            <td style="text-align:left">Alamat</td>
                                            <td style="text-align:left">{{ kriteriaTeknisData.alamat }}</td>
                                        </tr>
                                        <tr>
                                            <td style="text-align:left">Telepon</td>
                                            <td style="text-align:left">{{kriteriaTeknisData.nomorTelpon }}</td>
                                        </tr>
                                        <tr>
                                            <td style="text-align:left">Email</td>
                                            <td style="text-align:left">{{ kriteriaTeknisData.email }}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--END Table Ke 1 -->
            <!--Table Ke 2 -->
            <div class="panel panel-primary">
                <h4 ng-class="'bg-' + app.theme.name" class="panel-heading"><em class="fa fa-archive">&nbsp;</em><span translate="promise.procurement.panitia.evaluasiteknis.kriteriateknis.PENILAIANKRITERITEKNIS">Penilaian Kriteria TEKNIS</span></h4>
                <div class="panel-body">
                    <br/>
                    <div class="col-md-12">
                        <div>
                            <div align="center" ng-if="loading == true"><strong><em>Loading...</em><img src="app/img/loading.gif" width="20px" border="0"/></strong></div>
                            <div class="table-responsive">
                                <table class="table table-hover table-condensed table-striped bg-white">
                                    <thead>
                                        <tr style="font-weight: bold">
                                            <th scope="col"style="width:5%; text-align:left; vertical-align:middle"><span translate="promise.procurement.panitia.evaluasiteknis.kriteriateknis.NO"></span>
                                            </th>
                                            <th scope="col"style="width:35%; text-align:left; vertical-align:middle"><span translate="promise.procurement.panitia.evaluasiteknis.kriteriateknis.NAMA"></span>
                                            </th>
                                            <th scope="col"style="width:45%; text-align:left; vertical-align:middle"><span translate="promise.procurement.panitia.evaluasiteknis.kriteriateknis.KETERANGAN"></span>
                                            </th>
                                            <th scope="col"style="width:15%; text-align:center; vertical-align:middle"><span translate="promise.procurement.panitia.evaluasiteknis.kriteriateknis.STATUS"></span>
                                            </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="mt in kriteriaTeknisByPengadaanList">
                                            <td style="text-align:center; vertical-align:middle">{{$index+1}}</td>

                                            <td style="text-align:left; vertical-align:middle">{{mt.nama}}<span ng-if="watchTeknisList">{{mt.kriteriaTeknis.nama}}</span></td>

                                            <td style="text-align:left; vertical-align:middle">{{mt.masterKriteriaTeknis.keterangan}}<span ng-if="watchTeknisList">{{mt.kriteriaTeknis.masterKriteriaTeknis.keterangan}}</span></td>
                                            <td style="text-align:center; vertical-align:middle">
                                                <div class="checkbox c-checkbox needsclick">
                                                    <label class="needsclick">
                                                        <input type="checkbox" value="" ng-checked="mt.status" ng-model="mt.status" class="needsclick" ng-click="checkedKriteriaTeknis(mt)" />
                                                        <span class="fa fa-check"></span></label>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--END Table Ke 2 -->

            <p><strong>Dari Hasil Evaluasi Administrasi, Vendor {{kriteriaTeknisData.nama}} dinyatakan</strong></p>
            <div class="radio c-radio">
                <label style="color:green">
                    <input type="radio" name="optionsRadios" ng-checked="checked1" value="100" checked="" ng-click="checkSummary1()" /><span class="fa fa-circle"></span>Lulus (100)</label>
            </div>
            <div class="radio c-radio">
                <label style="color:red">
                    <input type="radio" name="optionsRadios" ng-checked="checked2" value="0" ng-click="checkSummary2()" /><span class="fa fa-circle"></span>Tidak Lulus (0)</label>
            </div>

            <div class="col-xs-12" align="center" ng-bind-html="messageSuccess" style="color : green"></div>
            <div class="col-xs-12" align="center" ng-bind-html="messageError" style="color : red"></div>
        </div>
        <br/>
    </div>
    <div class="modal-footer">
        <div align="center">
            <button ng-class="'bg-' + app.theme.name" type="button" ripple="" class="mr btn btn-labeled btn-sm" ng-click="cancel()">
                <span class="btn-label"><em class="fa fa-chevron-left"></em></span>
                <span translate="">Tutup</span>
            </button>
            <button ng-class="'bg-' + app.theme.name" type="button" ripple="" class="mr btn btn-sm" ng-click="save()">
                <span translate="promise.procurement.panitia.evaluasiteknis.btn.SIMPAN"></span>
            </button>
        </div>
    </div>
</script>
<!--END SISTEM GUGUR-->

<!--MERIT POINT-->
<script type="text/ng-template" id="/EvaluasiTeknisMeritPoint.html">
    <div class="modal-header">
        <button type="button" data-dismiss="modal" aria-hidden="true" class="close" ng-click="cancel()">Ã—</button>
        <h3 id="myModalLabel" class="modal-title">
            <span translate="promise.procurement.panitia.evaluasiteknis.kriteriateknis.JUDUL"></span>
        </h3>
    </div>
    <div class="modal-body">
        <div class="row">
            <!--Table Ke 1 -->
            <div class="panel panel-primary">
                <h4 ng-class="'bg-' + app.theme.name" class="panel-heading"><em class="fa fa-tasks">&nbsp;</em><span translate="promise.procurement.panitia.evaluasiteknis.kriteriateknis.DATAVENDOR">Data Vendor</span></h4>
                <div class="panel-body">
                    <br/>
                    <div class="col-md-12">
                        <div>
                            <div align="center" ng-if="loading == true"><strong><em>Loading...</em><img src="app/img/loading.gif" width="20px" border="0"/></strong></div>
                            <div class="table-responsive">
                                <table id="table-ext-1" class="table table-bordered table-hover" width="100%">
                                    <tbody>
                                        <tr>
                                            <td style="text-align:left" width="40%">Nama Penyedia Barang/Jasa</td>
                                            <td style="text-align:left" width="60%">{{ kriteriaTeknisData.nama }}</td>
                                        </tr>
                                        <tr>
                                            <td style="text-align:left">Alamat</td>
                                            <td style="text-align:left">{{ kriteriaTeknisData.alamat }}</td>
                                        </tr>
                                        <tr>
                                            <td style="text-align:left">Telepon</td>
                                            <td style="text-align:left">{{kriteriaTeknisData.nomorTelpon }}</td>
                                        </tr>
                                        <tr>
                                            <td style="text-align:left">Email</td>
                                            <td style="text-align:left">{{ kriteriaTeknisData.email }}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--END Table Ke 1 -->
            <!--Table Ke 2 -->
            <div class="panel panel-primary">
                <h4 ng-class="'bg-' + app.theme.name" class="panel-heading"><em class="fa fa-archive">&nbsp;</em><span translate="promise.procurement.panitia.evaluasiteknis.kriteriateknis.PENILAIANKRITERIATEKNIS">Penilaian Kriteria Teknis</span></h4>
                <div class="panel-body">
                    <br/>
                    <div class="col-md-12">
                        <div>
                            <div align="center" ng-if="loading == true"><strong><em>Loading...</em><img src="app/img/loading.gif" width="20px" border="0"/></strong></div>
                            <div class="table-responsive">
                                <table class="table table-hover table-condensed table-striped bg-white">
                                    <thead>
                                        <tr style="font-weight: bold">
                                            <th scope="col"style="width:5%; text-align:left; vertical-align:middle"><span translate="promise.procurement.panitia.evaluasiteknis.kriteriateknis.NO"></span>
                                                <th scope="col"style="width:30%; text-align:left; vertical-align:middle"><span translate="promise.procurement.panitia.evaluasiteknis.kriteriateknis.NAMA"></span>
                                                </th>
                                                <th scope="col"style="width:40%; text-align:left; vertical-align:middle"><span translate="promise.procurement.panitia.evaluasiteknis.kriteriateknis.KETERANGAN"></span>
                                                </th>
                                                <th scope="col"style="width:15%; text-align:left; vertical-align:middle"><span translate="promise.procurement.panitia.evaluasiteknis.kriteriateknis.NILAIMAKSIMAL"></span>
                                                </th>
                                                <th scope="col"style="width:15%; text-align:center; vertical-align:middle"><span translate="promise.procurement.panitia.evaluasiteknis.kriteriateknis.NILAI"></span>
                                                </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr ng-repeat="mt in kriteriaTeknisByPengadaanList">
                                            <td style="text-align:left; vertical-align:middle">{{$index+1}}</td>
                                            <td style="text-align:left; vertical-align:middle">
                                                <span ng-hide="watchTeknisList">{{mt.masterKriteriaTeknis.nama}}</span><span ng-show="watchTeknisList">{{mt.kriteriaTeknisMeritPoint.masterKriteriaTeknis.nama}}</span></td>
                                            <td style="text-align:left; vertical-align:middle">{{mt.masterKriteriaTeknis.keterangan}}<span ng-if="watchTeknisList">{{mt.kriteriaTeknisMeritPoint.masterKriteriaTeknis.keterangan}}</span></td>
                                            <td style="text-align:center; vertical-align:middle"><span ng-hide="watchTeknisList">{{mt.nilai}}</span><span ng-show="watchTeknisList">{{mt.kriteriaTeknisMeritPoint.nilai}}</span></td>
                                            <td style="text-align:center; vertical-align:middle">
                                                <span ng-hide="watchTeknisList">
                                                    <input type="text" style="text-align:center" class="form-control" ng-change="accumulate(mt)" ng-model="mt.nilaiInput"/></span>
                                                <span ng-show="watchTeknisList">
                                                    <input type="text" style="text-align:center" class="form-control" ng-change="accumulate(mt)" ng-model="mt.nilai" /></span>
                                            </td>
                                        </tr>
                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            <td colspan="3" style="text-align:right; vertical-align:middle">Total Nilai : </td>
                                            <td style="text-align:center; vertical-align:middle">{{total}}</td>
                                            <td style="text-align:center; vertical-align:middle">{{totalInput}}</td>
                                        </tr>
                                    </tfoot>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!--END Table Ke 2 -->
        </div>
        <br/>
    </div>
    <div class="modal-footer">
        <div align="center">
            <button ng-class="'bg-' + app.theme.name" type="button" ripple="" class="mr btn btn-labeled btn-sm" ng-click="cancel()">
                <span class="btn-label"><em class="fa fa-chevron-left"></em></span>
                <span translate="">Tutup</span>
            </button>
            <button ng-class="'bg-' + app.theme.name" type="button" ripple="" class="mr btn btn-sm" ng-click="save()">
                <span translate="promise.procurement.panitia.evaluasiteknis.btn.SIMPAN"></span>
            </button>
        </div>
    </div>
</script>
<!--END MERIT POINT-->

<!--MODAL CONFIRMATION-->
<script type="text/ng-template" id="/ModalConfirmation.html">
    <div class="modal-header">
        <button type="button" data-dismiss="modal" aria-hidden="true" class="close">Ã—</button>
        <h4 id="myModalLabel" class="modal-title">Konfirmasi</h4>
    </div>
    <div class="modal-body">
        <p>Apakah anda yakin untuk simpan data ?</p>
    </div>
    <div class="modal-footer">
        <div align="center">
            <button ng-click="cancel()" class="btn btn-warning">Cancel</button>
            <button ng-click="ok()" class="btn btn-primary">OK</button>
        </div>
    </div>
</script>

<!--END MODAL CONFIRMATION-->