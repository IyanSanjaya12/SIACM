<div class="app-view-header">
    <span translate="promise.procurement.panitia.penjelasan.JUDUL">Penjelasan</span>
</div>
<toaster-container toaster-options="{'position-class': 'toast-top-right', 'close-button':true}"></toaster-container>
<div ng-controller="PenjelasanDetailController as form">
    <promise-view-data-pengadaan pengadaan-id=pengadaanId></promise-view-data-pengadaan>
    <form name="myform" class="form-validate form-horizontal" role="form" novalidate>
          
	
    <!-- KEHADIRAN VENDOR-->
        <div id="penjelasan">
        <div class="panel panel-primary">
            <h4 ng-class="'bg-' + app.theme.name" class="panel-heading"><em class="fa fa-group">&nbsp;</em>
                                            <span translate="promise.procurement.panitia.pembukaanpenawaran.total.list.TBLKEHADIRAN"></span> {{testValue.length}}
        </h4>
            <div ng-show="form.loading" align="center"><strong><em>Loading... <img src="app/img/loading.gif" border="0" height="20px"/></em></strong>
            </div>
            <div ng-show="!form.loading" class="panel-body">
                <div class="row">
                    <div class="col-xs-12">

                        <div class="table-responsive">
                            <table class="table table-hover table-condensed table-striped bg-white">
                                <thead>
                                    <tr style="font-weight: bold">
                                        <th scope="col"style="width:5%; text-align:center; vertical-align:middle"><span translate="promise.procurement.panitia.penjelasan.kehadiranvendor.NOMOR"></span>
                                        </th>
                                        <th scope="col"style="width:35%; text-align:lef; vertical-align:middle"><span translate="promise.procurement.panitia.penjelasan.kehadiranvendor.NAMA"></span>
                                        </th>
                                        <th scope="col"style="width:5%; text-align:center; vertical-align:middle"><span translate="promise.procurement.panitia.penjelasan.kehadiranvendor.HADIR"></span>
                                        </th>
                                        <th scope="col"style="width:20%; text-align:lef; vertical-align:middle"><span translate="promise.procurement.panitia.penjelasan.kehadiranvendor.PERWAKILAN"></span><small style="color:red; ">&nbsp;*</small>
                                        </th>
                                        <th scope="col"style="width:15%; text-align:lef; vertical-align:middle"><span translate="promise.procurement.panitia.penjelasan.kehadiranvendor.EMAIL"></span>
                                        </th>
                                        <th scope="col"style="width:25%; text-align:left; vertical-align:middle"><span translate="promise.procurement.panitia.penjelasan.kehadiranvendor.HANDPHONE"></span><small style="color:red; ">&nbsp;*</small>
                                        </th>

                                    </tr>

                                </thead>
                                <tbody>
                                    <tr ng-repeat="penjelasanVendor in form.penjelasanVendorList | limitTo:10">
                                        <!-- using inner form for validation -->

                                        <td style="text-align:center; vertical-align:top">
                                            {{$index+1}}
                                        </td>
                                        <td style="text-align:lef; vertical-align:top">
                                            {{penjelasanVendor.vendor.nama}}
                                        </td>
                                        <td style="text-align:center; vertical-align:top">
                                            <div class="checkbox c-checkbox c-checkbox-rounded">
                                                <label>
                                                    <input id="inlineradio10" type="checkbox" ng-model="penjelasanVendor.isHadirPenjelasan" ng-disabled="!isEditable" />
                                                    <span class="fa fa-check"></span>
                                                </label>
                                            </div>
                                        </td>
                                        <td style="text-align:left; vertical-align:top">
                                            <ng-form name="penjelasanvendor_perwakilanForm">
                                                <input promise-special-char type="text" name="penjelasanvendor_perwakilan" class="form-control input-sm" id="" ng-model="penjelasanVendor.perwakilan" ng-show="penjelasanVendor.isHadirPenjelasan" ng-disabled="!penjelasanVendor.isHadirPenjelasan || !isEditable" required maxlength="50">
                                                <div ng-show="penjelasanVendor.isHadirPenjelasan && penjelasanvendor_perwakilanForm.penjelasanvendor_perwakilan.$dirty  && penjelasanvendor_perwakilanForm.penjelasanvendor_perwakilan.$error.required" style="color:red">&nbsp;Masukkan nama perwakilan</div>
                                            </ng-form>
                                        </td>
                                        <td style="text-align:left; vertical-align:top">
                                            {{penjelasanVendor.vendor.email}}
                                        </td>
                                        <td style="text-align:left; vertical-align:top">
                                            <ng-form name="penjelasanvendor_handphoneForm">
                                                <input type="number" required name="penjelasanvendor_handphone" class="form-control input-sm" id="" ng-model="penjelasanVendor.handphone" ng-show="penjelasanVendor.isHadirPenjelasan" ng-disabled="!penjelasanVendor.isHadirPenjelasan || !isEditable" oninput="if(value.length>15)value=value.slice(0,15)">
                                                <div ng-show="penjelasanVendor.isHadirPenjelasan && penjelasanvendor_handphoneForm.penjelasanvendor_handphone.$dirty  && penjelasanvendor_handphoneForm.penjelasanvendor_handphone.$error.required" style="color:red">&nbsp;Masukkan nomor handphone</div>
                                            </ng-form>
                                        </td>

                                    </tr>
                                </tbody>
                            </table>
                        </div>


                    </div>
                </div>
            </div>
        </div>
        <!--END KEHADIRAN VENDOR-->


        <!-- DAFTAR PANITIA -->
        <div class="panel panel-primary">
            <h4 ng-class="'bg-' + app.theme.name" class="panel-heading"><em class="fa fa-group">&nbsp;</em>
                                            <span translate="promise.procurement.panitia.pembukaanpenawaran.total.list.TBLDAFTARKEHADIRAN"></span>
        </h4>
            <div ng-show="form.loading" align="center"><strong><em>Loading... <img src="app/img/loading.gif" border="0" height="20px"/></em></strong>
            </div>
            <div ng-show="!form.loading" class="panel-body">
                <div class="row">
                    <div class="col-xs-12">

                        <div class="table-responsive">
                            <table class="table table-hover table-condensed table-striped bg-white">
                                <thead>
                                    <tr style="font-weight: bold">
                                        <th scope="col"style="width:2%; text-align:center"><span translate="promise.procurement.panitia.persetujuan.kehadiranpanitia.NOMOR"></span>
                                        </th>
                                        <th scope="col"style="width:20%; text-align:left"><span translate="promise.procurement.panitia.persetujuan.kehadiranpanitia.NAMA"></span><small style="color:red; ">&nbsp;*</small>
                                        </th>
                                        <th scope="col"style="width:20%; text-align:left"><span translate="promise.procurement.panitia.persetujuan.kehadiranpanitia.JABATAN"></span><small style="color:red; ">&nbsp;*</small>
                                        </th>
                                        <th scope="col"ng-if="isEditable" style="width:2%; text-align:center"><span translate="promise.procurement.panitia.persetujuan.kehadiranpanitia.AKSI"></span>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="panitiaPenjelasan in form.panitiaPenjelasanList | limitTo:10">
                                        <td style="text-align:center">
                                            {{$index+1}}
                                        </td>
                                        <td style="vertical-align:top">
                                            <!-- using inner form for validation -->
                                            <ng-form name="panitia_namaForm">
                                                <input promise-special-char ng-if="isEditable" type="text" required name="panitia_nama" class="form-control input-sm" ng-model="panitiaPenjelasan.nama" maxlength="50">
                                                <span ng-if="!isEditable">{{panitiaPenjelasan.nama}}</span>
                                                <div ng-show="panitia_namaForm.panitia_nama.$dirty  && panitia_namaForm.panitia_nama.$error.required" style="color:red">Masukkan nama panitia</div>
                                            </ng-form>
                                        </td>

                                        <td style="vertical-align:top">
                                            <!-- using inner form for validation -->
                                            <ng-form name="panitia_jabatanForm">
                                                <select ng-if="isEditable" required name="panitia_jabatan" ng-model="panitiaPenjelasan.jabatan" ng-options="jabatan.nama for jabatan in jabatanList track by jabatan.id" class="form-control m-b input-sm"></select>
                                                <div ng-if="!isEditable">{{panitiaPenjelasan.jabatan.nama}}</div>
                                                <div ng-show="panitia_jabatanForm.panitia_jabatan.$dirty  && panitia_jabatanForm.panitia_jabatan.$error.required" style="color:red">Pilih jabatan panitia</div>
                                            </ng-form>
                                        </td>

                                        <td style="vertical-align:top" ng-if="isEditable" style="width:2%; white-space: nowrap; text-align:center; vertical-align:middle">
                                            <button type="button" ripple="" ng-click="form.removePanitia($index)" title="Delete" class="mr btn btn-danger btn-circle btn-xs">
                                                <em class="fa fa-trash"></em>
                                            </button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="panel-body" ng-show="isEditable">
                            <button type="button" ng-class="'bg-' + app.theme.name" ng-click="form.addPanitia()" class="btn btn-primary btn-sm" ripple="">
                                <span class=""><em class="fa fa-plus"></em></span>&nbsp;&nbsp;<font color="white"><span translate="promise.procurement.panitia.persetujuan.kehadiranpanitia.TAMBAH"></span></font>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--END DAFTAR PANITIA -->


        <!-- Upload -->
        <div class="panel panel-primary">
            <h4 ng-class="'bg-' + app.theme.name" class="panel-heading"><em class="fa fa-briefcase">&nbsp;</em><span translate="promise.procurement.panitia.penjelasan.dokumen.TITLE"></span></h4>
            <div ng-show="form.loading" align="center"><strong><em>Loading... <img src="app/img/loading.gif" border="0" height="20px"/></em></strong>
            </div>
            <div ng-show="!form.loading" class="panel-body">
                <div class="col-md-12">

                    <div class="form-group">
                        <p ng-if="!uploader.queue.length" class=" text-center"><span translate="promise.procurement.panitia.penjelasan.dokumen.NO_FILE">Upload Dokumen Perubahan</span>
                        </p>
                        <div ng-if="uploader.queue.length">
                            <table ng-if="uploader.queue.length" class="table">
                                <thead>
                                    <tr>
                                        <th scope="col"width="50%"><span translate="promise.procurement.panitia.penjelasan.dokumen.NAMA_FILE"></span>
                                        </th>
                                        <th scope="col"ng-show="uploader.isHTML5"><span translate="promise.procurement.panitia.penjelasan.dokumen.UKURAN"></span>
                                        </th>
                                        <th scope="col"ng-show="uploader.isHTML5 && isEditable"><span translate="promise.procurement.panitia.penjelasan.dokumen.PROSES"></span>
                                        </th>
                                        <th scope="col"ng-show="isEditable"><span translate="promise.procurement.panitia.penjelasan.dokumen.STATUS"></span>
                                        </th>
                                        <th scope="col"ng-show="isEditable"><span translate="promise.procurement.panitia.penjelasan.dokumen.AKSI"></span>
                                        </th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr ng-repeat="item in uploader.queue">
                                        <td>
                                            <strong>{{ item.file.name }}</strong>
                                        </td>
                                        <td ng-show="uploader.isHTML5" nowrap="">{{ item.file.size/1024/1024|number:2 }} MB</td>
                                        <td ng-show="uploader.isHTML5 && isEditable">
                                            <div style="margin-bottom: 0;" class="progress progress-xs">
                                                <div role="progressbar" ng-style="{ 'width': item.progress + '%' }" class="progress-bar"></div>
                                            </div>
                                        </td>
                                        <td class="text-center" ng-show="isEditable">
                                            <span ng-show="item.isSuccess">
                                        <em class="fa fa-check fa-fw"></em>
                                     </span>
                                            <span ng-show="item.isCancel">
                                        <em class="fa fa-ban-circle fa-fw"></em>
                                     </span>
                                            <span ng-show="item.isError">
                                        <em class="fa fa-times fa-fw"></em>
                                     </span>
                                        </td>
                                        <td nowrap="" ng-show="isEditable">
                                            <button ng-hide="item.isSuccess" type="button" ng-click="item.upload()" ng-disabled="item.isReady || item.isUploading || item.isSuccess" class="btn btn-info btn-xs">
                                                <span class="icon-cloud-upload mr"></span>Upload</button>
                                            <button ng-hide="item.isSuccess" type="button" ng-click="item.cancel()" ng-disabled="!item.isUploading" class="btn btn-warning btn-xs">
                                                <span class="icon-cross mr"></span>Batal</button>
                                            <button type="button" ng-click="item.remove()" class="btn btn-danger btn-xs">
                                                <span class="icon-trash mr"></span>Hapus</button>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>

            <div class="panel-body" ng-show="isEditable">
                <div class="col-md-12">

                    <div class="form-group">
                        <div ng-if="uploader.queue.length">
                            <div style="" class="progress progress-xs">
                                <div role="progressbar" ng-style="{ 'width': uploader.progress + '%' }" class="progress-bar"></div>
                            </div>
                        </div>
                        <div>
                            <div ng-if="uploader.queue.length <=0" style="width:40%; margin:0 auto;">
                                <input filestyle="" type="file" data-button-text="Pilih File" data-class-button="btn btn-default" data-class-input="form-control inline" nv-file-select="" uploader="uploader" multiple="" class="form-control" />
                            </div>
                            <div ng-if="uploader.queue.length" class="col-sm-6">
                                <input filestyle="" type="file" data-button-text="Pilih File" data-class-button="btn btn-default" data-class-input="form-control inline" nv-file-select="" uploader="uploader" multiple="" class="form-control" />
                            </div>
                            <div ng-if="uploader.queue.length">
                                <button type="button" ng-click="uploader.uploadAll()" ng-disabled="!uploader.getNotUploadedItems().length" class="btn btn-info btn-s">
                                    <span class="icon-cloud-upload mr"></span>Upload Semua</button>
                                <button type="button" ng-click="uploader.cancelAll()" ng-disabled="!uploader.isUploading" class="btn btn-warning btn-s">
                                    <span class="icon-cross mr"></span>Batalkan Semua</button>
                                <button type="button" ng-click="uploader.clearQueue()" ng-disabled="!uploader.queue.length" class="btn btn-danger btn-s">
                                    <span class="icon-trash mr"></span>Hapus Semua</button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
        <!-- end upload -->

        <!-- Berita Acara -->
        <div class="panel panel-primary">
            <h4 ng-class="'bg-' + app.theme.name" class="panel-heading"><em class="fa fa-tasks">&nbsp;</em><span translate="promise.procurement.panitia.penjelasan.beritaacara.TITLE">Berita Acara</span></h4>
            <div ng-show="form.loading" align="center"><strong><em>Loading... <img src="app/img/loading.gif" border="0" height="20px"/></em></strong>
            </div>
            <div ng-show="!form.loading" class="panel-body">
                <table id="table-ext-1" class="table table-bordered table-hover" width="100%">
                    <tbody>
                        <tr>
                            <td style="text-align:left;  vertical-align:top" width="40%"><span translate="promise.procurement.panitia.penjelasan.beritaacara.NOMOR"></span><small style="color:red; ">&nbsp;*</small>
                            </td>
                            <td style="text-align:left;  vertical-align:top" valign="top" width="60%">
                                <input type="text" class="form-control input-sm" id="" ng-model="form.beritaAcara.nomor" name="beritaacara_nomor" required ng-disabled="!isEditable" maxlength="50"/>
                                <div ng-show="myform.beritaacara_nomor.$dirty  && myform.beritaacara_nomor.$error.required" style="color:red">Masukkan nomor berita acara</div>
                            </td>
                        </tr>
                        <tr>
                            <td style="text-align:left;valign=top"><span translate="promise.procurement.panitia.penjelasan.beritaacara.TANGGAL"></span><small style="color:red">&nbsp;*</small>
                            </td>
                            <td style="text-align:left; valign=top" width="60%">
                                <div class="row">
                                    <div class="col-sm-10 col-lg-4">
                                        <div class="input-group">
                                            <input type="text" name="beritaacara_tanggal" datepicker-popup="{{form.format}}" ng-model="form.beritaAcara.tanggal" is-open="form.tanggalBeritaAcaraOpened" min-date="form.minDate" max-date="false" datepicker-options="form.dateOptions" date-disabled="form.disabled(form.date, form.mode)" close-text="Close" class="form-control shadow-z1 input-sm" ng-change="updatetanggalBeritaAcara()" readonly="true" required readonly style="background-color:white;"/>
                                            <span class="input-group-btn">
											<button type="button" ng-click="form.tanggalBeritaAcaraOpen($event)" class="btn btn-default shadow-z1 input-sm " ripple="" ng-show="isEditable">
												<em class="fa fa-calendar"></em>
											</button>
										</span>
                                        </div>
                                    </div>
                                    <div class="col-sm-12 ">
                                        <div ng-show="myform.beritaacara_tanggal.$dirty  && myform.beritaacara_tanggal.$error.required" style="color:red">Masukkan tanggal berita acara</div>
                                    </div>
                                </div>

                            </td>
                        </tr>

                        <tr>
                            <td style="text-align:left;  vertical-align:top"><span translate="promise.procurement.panitia.penjelasan.beritaacara.KETERANGAN"></span>
                            </td>
                            <td style="text-align:left;  vertical-align:top" width="60%">
                                <textarea rows="4" cols="50" class="form-control input-sm" id="" ng-model="form.beritaAcara.keterangan" ng-disabled="!isEditable" maxlength="250">
                                </textarea>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
        </div>
        <!-- Berita Acara -->

        <div ng-show="loadingSaving" align="right"><strong><em>Saving... <img src="app/img/loading.gif" border="0" height="20px"/></em></strong>
        </div>
        <div align="center">
            <button ng-class="'bg-' + app.theme.name" ng-click="gotoIndex()" class="btn btn-primary btn-sm pull-center" ripple="">
                <span class=""><em class="fa fa-chevron-left"></em></span>&nbsp;&nbsp;<font color="white"><span translate="promise.procurement.panitia.penjelasan.btn.KEMBALI"></span></font>
            </button>
            <button ng-class="'bg-' + app.theme.name" type="button" class="btn btn-primary btn-sm pull-center" ng-click="printDiv('penjelasan')" ng-show="view==true && detilPengadaan.tahapanPengadaan.tahapan.id>8"><em class="fa fa-print">&nbsp;</em>
                <span translate="promise.procurement.panitia.pengambilandokumen.view.btn.PRINT"></span>
            </button>
            <button ng-show="isEditable" ng-class="'bg-' + app.theme.name" ng-click="saveData()" class="btn btn-primary btn-sm pull-center" ripple="">
                <span class=""><em class="fa fa-sign-in"></em></span>&nbsp;&nbsp;<font color="white"><span translate="promise.procurement.panitia.penjelasan.btn.KIRIM"></span></font>
            </button>
        </div>
        <br>
    </form>
</div>
<!--END CONTROLLER-->