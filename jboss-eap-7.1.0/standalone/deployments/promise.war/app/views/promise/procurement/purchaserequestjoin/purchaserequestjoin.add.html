<!-- START CONTROLLER -->
<div ng-controller="PurchaseRequestJoinController as form">
    <div class="app-view-header">
        <span>Purchase Request</span> <small><span>Join PR</span></small>
    </div>
    <div class="panel panel-primary">
        <!-- START FORM -->
        <div class="panel-body">
            <div align="center" ng-if="form.loading == true">
                <strong><em>Loading... <img src="app/img/loading.gif" border="0" height="20px" /></em></strong>
            </div>
            <form role="form" name="purchaserequest" class="form-horizontal">
                <tabset>
                    <!--PR Details-->
                    <tab heading="PR Detail" active="tabs[0].active" ng-init="">
                        <fieldset>
                            <div class="row">
                                <div class="form-group">
                                    <label class="col-lg-3 control-label"><span>PR Number</span><strong style="color: red">*</strong> </label>
                                    <div class="col-md-4">
                                        <input type="text" promise-alphanumeric-only class="form-control shadow-z1 input-sm" ng-model="form.prnumber" ng-disabled="(form.pr == null)?false:true"> <strong style="color: red">{{errormessagePRNumber}}</strong>
                                    </div>
                                    <div class="col-md-1" ng-if="(form.pr == null)?true:false">
                                        <button ng-class="'bg-' + app.theme.name" type="button" ng-click="btnGenerateNumber()" class="mr btn btn-sm">Generate</button>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-lg-3 control-label"><span>Required Date</span><strong style="color: red">*</strong></label>
                                    <div class="col-md-3">
                                        <div class="input-group">
                                            <input type="text" datepicker-popup="{{form.format}}" ng-model="form.daterequired" is-open="form.daterequiredOpened" min-date="form.minDate" max-date="false" datepicker-options="form.dateOptions" date-disabled="form.disabled(form.date, form.mode)" close-text="Close" class="form-control shadow-z1 input-sm" readonly style="background-color: white;" /> <span class="input-group-btn">
										<button type="button" ng-click="form.daterequiredOpen($event)" class="btn btn-default shadow-z1 input-sm " ripple="">
											<em class="fa fa-calendar"></em>
										</button>
									</span>
                                        </div>
                                        <strong style="color: red">{{errormessageDaterequired}}</strong>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label class="col-lg-3 control-label"><span>Description</span> </label>
                                    <div class="col-lg-6">
                                        <textarea class="form-control shadow-z1 input-sm" ng-model="form.description" rows="3" cols="5"></textarea>
                                    </div>
                                </div>
                                <div class="row pull-right">
                                    <div class="col-md-2">
                                        <button ng-class="'bg-' + app.theme.name" type="button" class="mr btn btn-labeled" ng-click="tabs[1].active=validateForm()">Next</button>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                    </tab>
                    
                    <!--Items-->
                    <tab heading="Items" active="tabs[1].active" ng-click="tabs[1].active=validateForm()">
                        <fieldset>
                            <div class="row">
                                <div class="col-lg-12">
                                    <h4 class="page-header clearfix">
								<strong><span>Item Table</span></strong>
							</h4>
                                    <div class="row form-horizontal">
                                        <div class="col-md-12">
                                            <div class="table-responsive">
                                                <table id="DataTables_Table_1" datatable="" dt-options="form.dtOptions" dt-columns="form.dtColumns" dt-instance="dtInstance" class="row-border hover"></table>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-offset-6 col-md-6 cart-sub-total">
                                    <h2>
		                        <strong>
		                            <span>GRAND TOTAL ITEM</span>
		                            <span class="pull-right"> {{ form.totalHPSItemPR | currency:'' }} IDR </span>
		                        </strong>
		                    </h2>
                                </div>
                                <div class="page-header clearfix"></div>
                                <!-- END TABEL -->
                            </div>
                            <br />
                            <div align="center">&nbsp;</div>
                            <div class="form-group">
                                <div class="col-lg-offset-2 col-lg-10">
                                    <button ng-class="'bg-' + app.theme.name" type="button" ripple="" class="mr btn btn-sm" ng-click="tabs[0].active=true;">
                                        <span translate="">Kembali</span>
                                    </button>
                                    <button ng-class="'bg-' + app.theme.name" type="button" ripple="" class="mr btn btn-sm" ng-click="btnSimpanPR()">
                                        <span translate="">Simpan</span>
                                    </button>
                                    <button ng-class="'bg-' + app.theme.name" type="button" ripple="" class="mr btn btn-sm" ng-click="btnKembaliIndex()">
                                        <span translate="">Batal</span>
                                    </button>
                                </div>
                            </div>
                        </fieldset>
                    </tab>
                </tabset>
            </form>
        </div>
    </div>
    <!--END FORM-->
</div>